// 22.09.07



# β¤οΈ μΈν„°λ½νΈ

<br/>

### π¤” μ΄μμ²΄μ μ™€ ν•λ“μ›¨μ–΄ κ°„μ μƒνΈ λ™μ‘<br/>

- μ΄μμ²΄μ λ” `λ μ§€μ¤ν„°(μƒνƒ, λ…λ Ή, λ°μ΄ν„° λ μ§€μ¤ν„°)`λ¥Ό μ½κ³  μ“°λ” κ²ƒμ„ ν†µν•΄ `ν•λ“μ›¨μ–΄ μ¥μΉμ λ™μ‘μ„ μ μ–΄`ν•  μ μμ<br/>

| λ μ§€μ¤ν„°               | ν•λ”μΌ                                               |
| ---------------------- | ---------------------------------------------------- |
| μƒνƒ(Status) λ μ§€μ¤ν„°  | ν•λ“μ›¨μ–΄ μ¥μΉμ `ν„μ¬μƒνƒ`λ¥Ό μ½μ„ μ μλ” λ μ§€μ¤ν„°   |
| λ…λ Ή(Command) λ μ§€μ¤ν„° | ν•λ“μ›¨μ–΄ μ¥μΉκ°€ `νΉμ •λ™μ‘μ„ ν•λ„λ΅ μ”μ²­`ν•  λ• μ‚¬μ©   |
| λ°μ΄ν„°(Data) λ μ§€μ¤ν„°  | ν•λ“μ›¨μ–΄ μ¥μΉκ°€ `λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κ±°λ‚ λ°›κ±°λ‚`ν•  λ• μ‚¬μ© |

<br/>

**μ΄μμ²΄μ μ™€ ν•λ“μ›¨μ–΄ μ¥μΉ κ°„μ— ν΄λ§μ„ ν†µν• μƒνΈμ‘μ©**<br/>

1. **ν΄λ§(Polling)**μ„ ν•λ‹¤<br/>

   ```λ»
   ν΄λ§(Polling)
   - μ΄μμ²΄μ κ°€ ν•λ“μ›¨μ–΄ μ¥μΉμ μƒνƒ λ μ§€μ¤ν„°λ¥Ό μ½μμΌλ΅μ¨ λ…λ Ή μμ‹  μ—¬λ¶€λ¥Ό μ£ΌκΈ°μ μΌλ΅ ν™•μΈν•λ” κ²ƒ
   - μ¦‰. ν•λ“μ›¨μ–΄μ¥μΉμ μƒνƒλ¥Ό μμ‹λ΅ μ²΄ν¬ν•΄ λ…λ Ήμ„ λ°›μ„ μ μλ”μ§€ ν™•μΈν•λ” κ²ƒ

2. μ΄μμ²΄μ κ°€ **λ°μ΄ν„° λ μ§€μ¤ν„°μ— λ°μ΄ν„°λ¥Ό μ „λ‹¬**ν•¨<br/>
3. μ΄μμ²΄μ κ°€ **λ…λ Ή λ μ§€μ¤ν„°μ— λ…λ Ήμ„ κΈ°λ΅**ν•¨<br/>
4. μ΄μμ²΄μ λ” ν•λ“μ›¨μ–΄ μ¥μΉκ°€ **νΉμ • λ™μ‘μ„ μ²λ¦¬ν•μ€λ”μ§€ ν΄λ§ λ°λ³µλ¬Έ**μ„ λλ©΄μ„ κΈ°λ‹¤λ¦°λ‹¤. (μ„±κ³µ/μ‹¤ν¨ μ½”λ“λ¥Ό λ°›κ² λ¨)<br/>

<br/>

π‘‰ν΄λ§μ„ ν•λ” λ™μ•μ—λ” <u>λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤μ—κ² CPUλ¥Ό μ–‘λ„ν•μ§€ μ•κ³ </u> ν•λ“μ›¨μ–΄ μ¥μΉκ°€ λ™μ‘μ„ μ™„λ£ν• λ–„κΉμ§€, κ³„μ† <u>λ£¨ν”„λ¥Ό λλ©΄μ„ ν•λ“μ›¨μ–΄ μƒνƒλ¥Ό μ²΄ν¬</u>ν•¨<br/>

π‘‰ν•λ“μ›¨μ–΄ μ¥μΉμ μ†λ„λ” λ§¤μ° λλ¦¬κΈ° λ•λ¬Έμ— **CPUλ¥Ό λ§μ΄ λ‚­λΉ„**ν•κ² λλ‹¤.<br/>

<br/>

<br/>

<hr/>

### π¤” μΈν„°λ½νΈλ€?<br/>

> CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„λ•, I/O ν•λ“μ›¨μ–΄ λ“±μ μ¥μΉμ— μμ™Έ μƒν™©μ΄ λ°μƒν•μ—¬ μ²λ¦¬κ°€ ν•„μ”ν• κ²½μ°,<br/>
>
> ν„μ¬ μ‹¤ν–‰μ¤‘μΈ μ‘μ—…μ„ μ¦‰μ‹ μ¤‘λ‹¨ν•κ³ , λ°μƒλ μƒν™©μ— λ€ν• μ°μ„ μ²λ¦¬κ°€ ν•„μ”ν•¨μ„ CPUμ—κ² μ•λ¦¬λ” κ²ƒ<br/>

- μ§€κΈ μν–‰ μ¤‘μΈ μΌλ³΄λ‹¤ `λ” μ¤‘μ”ν•μΌ`(Ex. μ…μ¶λ ¥, μ°μ„  μμ„ μ—°μ‚° λ“±)μ΄ λ°μƒν•λ©΄ `κ·Έ μΌμ„ λ¨Όμ € μ²λ¦¬`ν•κ³  λ‚μ„ ν•λ μΌμ„ κ³„μ†ν•΄μ•Όν•¨<br/>

<br/>

#### μΈν„°λ½νΈ λ°μƒ μ‹!<br/>

- μ΄μμ²΄μ λ” λ””λ°”μ΄μ¤λ¥Ό ν΄λ§ν•λ” λ€μ‹  I/O μ”μ²­ν• ν”„λ΅μ„Έμ¤λ¥Ό **λΈ”λ΅** μ‹ν‚¤κ³  **CPUλ¥Ό λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤μ—κ² μ–‘λ„<br/>**
- μ¥μΉκ°€ λλ§μΉλ©΄ ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤κ³  CPUλ” μ΄μμ²΄μ κ°€ λ―Έλ¦¬ μ •μν•΄λ†“μ€ `μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)` λλ” `μΈν„°λ½νΈ ν•Έλ“¤λ¬(Interrput Handler)`λ¥Ό μ‹¤ν–‰<br/>
-  `μΈν„°λ½νΈ ν•Έλ“¤λ¬(Interrput Handler)`λ” μ…μ¶λ ¥ μ”μ²­, I/O λ€κΈ°μ¤‘μΈ ν”„λ΅μ„Έμ¤ κΊ μ°κΈ° λ“±μ„ ν•΄ ν”„λ΅μ„Έμ¤κ°€ μ‘μ—…μ„ κ³„μ† ν•  μ μλ„λ΅ ν•¨<br/>

<br/>

#### μΈν„°λ½νΈ μΆ…λ¥<br/>

- μ™Έλ¶€ μΈν„°λ½νΈ, λ‚΄λ¶€ μΈν„°λ½νΈ, μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈκ°€ μμ<br/>

| κµ¬λ¶„                         | λ‚΄μ©                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| **μ™Έλ¶€<br/> μΈν„°λ½νΈ**       | μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ° μ¥μΉ, μ „μ› λ“± μ™Έλ¶€μ μΈ μ”μΈμΌλ΅ λ°μƒ<br/><br/>- νƒ€μ΄λ¨Έ μΈν„°λ½νΈ : νƒ€μ΄λ¨Έκ°€ μΌμ •ν• μ‹κ°„ κ°„κ²©μΌλ΅ μ¤‘μ•™μ²λ¦¬μ¥μΉμ— μΈν„°λ½νΈ μ”μ²­<br/>- μ…μ¶λ ¥ μΈν„°λ½νΈ : μ†ν† κ°€ λλ¦° μ…μ¶λ ¥μ¥μΉκ°€ μ…μ¶λ ¥ μ¤€λΉ„κ°€ μ™„λ£λμ—μμ„ μ•λ¦¬κΈ° μ„ν•΄ μΈν„°λ½νΈ μ”μ²­ |
| **λ‚΄λ¶€ μΈν„°λ½νΈ<br/>(Trap)** | μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ• λ°μƒ<br/>0μΌλ΅ λ‚λ„κΈ°, μ¤λ²„ν”λ΅μ°, λ…λ Ήμ–΄λ¥Ό μλ» μ‚¬μ©ν• κ²½μ°(Exception)<br/><br/><br/>-ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ : μ»΄ν“¨ν„° κ³ μ¥, λ°μ΄ν„° μ „λ‹¬ κ³Όμ •μ—μ„ λΉ„νΈ μ¤λ¥, μ „μ›μ΄ λ‚κ°„ κ²½μ°<br/>-μ‹¤ν–‰ν•  μ μ—†λ” λ…λ Ήμ–΄ : κΈ°μ–µμ¥μΉμ—μ„ μΈμ¶ν• λ…λ Ήμ–΄μ λΉ„νΈ ν¨ν„΄μ΄ μ •μλμ–΄ μμ§€ μ•μ€ κ²½μ°<br/>-λ…λ Ήμ–΄ μ‹¤ν–‰ μ¤λ¥ : λ‚λ„κΈ° 0γ…‡μ„ ν•λ” κ²½μ°<br/>-μ‚¬μ© κ¶ν• μ„λ°° : μ‚¬μ©μκ°€ μ΄μμ²΄μ λ§ μ‚¬μ©ν•  μ μλ” μμ›μ— μ•΅μ„Έμ¤ν•λ” κ²½μ° |
| **μ†ν”„νΈμ›¨μ–΄ <br/>μΈν„°λ½νΈ** | ν”„λ΅κ·Έλ¨ μ²λ¦¬ μ¤‘ λ…λ Ήμ μ”μ²­μ— μν•΄ λ°μƒν• κ²ƒ(SVC μΈν„°λ½νΈ)<br/>-μ‚¬μ©μκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰μ‹ν‚¬λ–„ λ°μƒ : μ†ν”„νΈμ›¨μ–΄ μ΄μ© μ¤‘μ— λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰μ‹ν‚¤λ©΄ μ‹λ¶„ν• μ²λ¦¬λ¥Ό μ„ν•΄ μμ› ν• λ‹Ή λ™μ‘μ΄ μν–‰ |

<br/>

<br/>

### π¤” μΈν„°λ½νΈ μ²λ¦¬κ³Όμ •

![image-20220907201822231](/Users/yuahyeon/Library/Application Support/typora-user-images/image-20220907201822231.png)

- λ…λ Ήμ–΄ μ‚¬μ΄ν΄μ€ `μΈμ¶(Fetch Stage)`κ³Ό `μ‹¤ν–‰(Execution Stage)` λ‘ λ‹¨κ³„λ¥Ό λ°λ³µ μν–‰<br/>

- μ΄λ•, μΈν„°λ½νΈ μ”μ²­μ΄ λ“¤μ–΄μ¤λ©΄ β—οΈλ°”λ΅ μ΄λ¥Ό μ²λ¦¬ν•λ” κ²ƒμ΄ μ•„λ‹λΌ `λ…λ Ήμ–΄ Nμ μ‹¤ν–‰ λ‹¨κ³„λ¥Ό λ§μ³μ•Όν•¨`<br/>
- λ…λ Ήμ–΄μ μ‹¤ν–‰ λ‹¨κ³„λ¥Ό λ§μΉ λ•λ§λ‹¤, μ¤‘μ•™μ²λ¦¬μ¥μΉ(CPU)λ” λ°λ³µμ μΌλ΅ μΈν„°λ½νΈ μ”μ²­μ΄ μλ”μ§€ ν™•μΈ<br/>
  - μΈν„°λ½νΈ μ”μ²­μ΄ μμΌλ©΄ `μΈν„°λ½νΈ μ„λΉ„μ¤ λ‹¨κ³„λ¥Ό μ§„ν–‰`<br/>

<br/>

#### μΆ€ λ” ν° κ°λ…μΌλ΅ μ‚΄ν΄λ³Έλ‹¤λ©΄<br/>

![image-20220907202334448](/Users/yuahyeon/Library/Application Support/typora-user-images/image-20220907202334448.png)

**μ£Ό ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λλ‹¤κ°€ μΈν„°λ½νΈ λ°μƒ μ‹β—οΈ<br/>**

- ν„μ¬ μν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨μ„ λ©μ¶”κ³ , **μƒνƒ λ μ§€μ¤ν„°μ™€ PC λ“±μ„ μ¤νƒμ— μ μ‹ μ €μ¥**ν• λ’¤μ— **μΈν„°λ½νΈ μ„λΉ„μ¤**μΌλ΅ κ°„λ‹¤.<br/>
  - μ μ‹ μ €μ¥ν•λ” μ΄μ λ”, μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄ λλ‚λ’¤ λ‹¤μ‹ μ›λ μ‘μ—…μΌλ΅ λμ•„μ™€μ•Ό ν•κΈ° λ•λ¬Έ<br/>

```μ”μ•½
β‰οΈ Process A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ

1.  Process Aλ” System Callμ„ ν†µν•΄ μΈν„°λ½νΈλ¥Ό λ°μƒ
2. CPUλ” ν„μ¬ μ§„ν–‰μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£
3. ν„μ¬κΉμ§€ μν–‰μ¤‘μ΄μ€λ μƒνƒλ¥Ό ν•΄λ‹Ή Processμ PCB(Process Control Block)μ— μ €μ¥ν•¨
   (μν–‰μ¤‘μ΄λ λ©”λ¨λ¦¬μ£Όμ†, λ μ§€μ¤ν„° κ°’, ν•λ“μ›¨μ–΄ μƒνƒ λ“±..)
4. PC(Program Counter, λ μ§€μ¤ν„°)μ— λ‹¤μμ— μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ†λ¥Ό μ €μ¥
5. μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR μ£Όμ† κ°’μ„ μ–»μ–΄ ISR(Interrupt Service Routine)λ¬ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰
6. ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•¨
7. ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›
8. ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ λλ‹¤.
   - IRET : Intel μ•„ν‚¤ν…μ²μ μ–΄μ…λΈ”λ¦¬ λ…λ Ήμ–΄ μ¤‘ ν•λ‚λ΅ 
   					'μΈν„°λ½νΈ μ²λ¦¬ μ‹μ— λ¨νΌ μ²λ¦¬λ¥Ό μ™„λ£ν•κ³  λ‹¤μ‹ νƒμ¤νΈλ΅ λ³µκµ¬ν•λ” λ…λ Ήμ–΄'
9. IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›
	- μΈν„°λ½νΈ λ²νΈλ” μμ™Έμƒν™© μΈν„°λ½νΈλ¥Ό μ μ™Έν•κ³  μ΄μμ²΄μ κ°€ κ²°μ •!
```

<br/>

<br/>

### π¤” ν΄λ§ VS μΈν„°λ½νΈ<br/>

- μ»¨νΈλ΅¤λ¬κ°€ μ…λ ¥μ„ λ°›μ•„λ“λ¦¬λ” λ°©λ²•(μ°μ„ μμ„ νλ³„λ°©λ²•)μ—λ” λ‘κ°€μ§€κ°€ μμ<br/>

**ν΄λ§**<br/>

- μ‚¬μ©μκ°€ λ…ν•μ–΄λ¥Ό μ‚¬μ©ν•΄ μ…λ ¥ ν•€μ κ°’μ„ κ³„μ† μ½μ–΄ λ³€ν™”λ¥Ό μ•μ•„λ‚΄λ” λ°©μ‹<br/>

- μΈν„°λ½νΈ μ”μ²­ ν”λκ·Έλ¥Ό μ°¨λ΅€λ΅ λΉ„κµν•μ—¬ μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ μΈν„°λ½νΈ μμ›μ„ μ°Ύμ•„ μ΄μ— λ§λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹¤ν–‰(ν•λ“μ›¨μ–΄μ— λΉ„ν•΄ μ†λ„λλ¦Ό)<br/>

  ![image-20220907212058029](/Users/yuahyeon/Library/Application Support/typora-user-images/image-20220907212058029.png)

```ν΄λ§
ν”„λ΅μ„Έμ¤ 1μ΄ μ‹¤ν–‰ μ¤‘μ— Diskλ΅λ¶€ν„° I/O μ”μ²­μ΄ λ°μƒ μ‹

- μ΄μμ²΄μ λ” I/O μ”μ²­μ΄ μ™„λ£λ λ•κΉμ§€ λ°λ³µμ μΌλ΅ ν΄λ§ν•λ‹¤.
- λ””μ¤νΈκ°€ I/O μ”μ •μ μ²λ¦¬λ¥Ό μ™„λ£ν•λ©΄ ν”„λ΅μ„Έμ¤ 1μ΄ λ‹¤μ‹ λ™μ‘ν•λ‹¤.

=> ν”λ§μ„ ν•λ” μ‹κ°„μ—λ” μ›λν•λ μΌμ— μ§‘μ¤‘ν•  μ μ—†μ–΄ λ” λ§μ€ κΈ°λ¥μ„ μ λ€λ΅ μν–‰ν•μ§€ λ»ν•¨
```

<br/>

**μΈν„°λ½νΈ**<br/>

- MUC(Micro Controller Unit, μ»΄ν“¨ν„°) μμ²΄κ°€ ν•λ“μ›¨μ–΄μ μΌλ΅ λ³€ν™”λ¥Ό μ²΄ν¬ν•μ—¬ λ³€ν™”μ‹μ—λ§ μΌμ •ν• λ™μ‘μ„ ν•λ” λ°©μ‹<br/>
- μΈν„°λ½νΈ λ°©μ‹μ€ ν•λ“μ›¨μ–΄λ΅ μ§€μ›λ°›μ•„μ•Όν•λ” μ μ•½μ΄ μμ§€λ§, ν΄λ§μ— λΉ„ν•΄ μ‹ μ†ν•κ² λ€μ‘ν•λ” κ²ƒμ΄ κ°€λ¥!<br/>
  - λ”°λΌμ„ **μ‹¤μ‹κ°„ λ€μ‘μ΄ ν•„μ”ν•  λ• ν•„μμ μΈ κΈ°λ¥!**<br/>
- μ¦‰, μΈν„°λ½νΈλ” **λ°μƒ μ‹κΈ°λ¥Ό μμΈ΅ν•κΈ° νλ“  κ²½μ°μ— μ»¨νΈλ΅¤λ¬κ°€ κ°€μ¥ λΉ λ¥΄κ² λ€μ‘ν•  μ μλ” λ°©λ²•!<br/>**

![image-20220907212123054](/Users/yuahyeon/Library/Application Support/typora-user-images/image-20220907212123054.png)

```μ”μ•½
ν”„λ΅μ„Έμ¤ 1μ΄ μ‹¤ν–‰ μ¤‘μ— Diskλ΅λ¶€ν„° I/O μ”μ²­μ΄ λ°μƒ μ‹

- μ”μ²­μ„ μ²λ¦¬ν•λ” λ™μ•μ— μ΄μμ²΄μ λ” ν”„λ΅μ„Έμ¤ 2λ¥Ό CPUμ—μ„ μ‹¤ν–‰
- ν”„λ΅μ„Έμ¤ 1μ— λ€ν• λ””μ¤ν¬ μ”μ²­μ΄ μ™„λ£λλ©΄, μΈν„°λ½νΈλ¥Ό λ°μƒ μ‹μΌ μ΄μμ²΄μ λ” ν”„λ΅μ„Έμ¤ 1μ„ λ‹¤μ‹ CPUμ—μ„ μ‹¤ν–‰

=> μ΄μ²λΌ μΈν„°λ½νΈλ¥Ό μ‚¬μ©ν•λ©΄ CPU μ—°μ‚°κ³Ό I/O μ¥μΉ μ‘μ—…μ„ μ¤‘μ²©μ‹μΌ μν–‰ν•  μ μκ² λ¨
=> κ·Έλ ‡κΈ° λ•λ¬Έμ— ν΄λ§λ³΄λ‹¤ CPU μ‚¬μ©λ¥ μ„ λ†’μΌ μ μμ
=>
```



<br/>ν•μ§€λ§ μΈν„°λ½νΈκ°€ λ¬΄μ΅°κ±΄ ν΄λ§λ³΄λ‹¤ μΆ‹λ‹¤κ³  ν•  μ μ—†μ

```μμ‹
- λ‹¨ ν•λ²μ ν΄λ§μΌλ΅λ§ λλ‚  μ •λ„μ λΉ λ¥Έ ν•λ“μ›¨μ–΄ μ¥μΉλΌλ©΄ μΈν„°λ½νΈλ³΄λ‹¤ ν΄λ§μ΄ λ” ν¨μ¨μ 
- μΈνΈλ½νΈλ¥Ό μ‹μ©ν•λ©΄ ν„μ¬ μ‹¤ν–‰μ¤‘μΈ ν”„λ΅μ„Έμ¤λ¥Ό λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤λ΅ λ¬Έμ•΅κµν™(COntext Switcing)ν•κ²λκ³  μ΄λ• λ§μ€ λΉ„μ©μ΄ μλ°
=> κ·Έλ ‡κΈ° λ•λ¬Έμ— λΉ λ¥Έ ν•λ“μ›¨μ–΄ μ¥μΉλΌλ©΄ ν΄λ§μ΄ λ” ν¨μ¨μ μ΄κ³ , λλ¦° ν•λ“μ›¨μ–΄ μ¥μΉλΌλ©΄ μΈν„°λ½νΈκ°€ λ” ν¨μ¨μ β—οΈ
```

<br/>

<br/>

<hr/>

μ¶μ²

https://dar0m.tistory.com/257?category=976685

https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Interrupt.md